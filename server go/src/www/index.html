<!DOCTYPE HTML>
<html xmlns:fb="http://ogp.me/ns/fb#">
    <head>
        <title>Gcl-11</title>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/index.css">
    </head>
    <body>

        <div id="fb-root"></div>

        <div class="container">

            <div id="form1" style="display:none;">

                <div class="row">
                    <div class="col-xs-8 col-md-10" style="margin-top:10px;"><h1 onclick="service.list()" style="margin:5px 0px 0px;">Gcl-11</h1></div>
                    <div class="col-xs-4 col-md-2" style="margin-top:10px;"><input id="fsigninButton" type="button" class="btn btn-default btn-lg btn-block" value="Sign in" style="display:none;"/></div>
                </div>

            </div>

            <div id="form2" style="display:none;">

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-8 col-md-10"><h1 onclick="service.list()">Tarifa 2014 WM Heat 1</h1></div>
                    <div class="col-xs-4 col-md-2"><input onclick="service.submit()" id="submitButton" type="button" class="btn btn-default btn-lg btn-block" value="Submit"/></div>
                </div>

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-12"><input id="rider" class="form-control input-lg" placeholder="Rider"/></div>
                </div>

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-12"><input id="trick" class="form-control input-lg" placeholder="Trick"/></div>
                </div>

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-12"><input id="score" class="form-control input-lg" placeholder="Score"/></div>
                </div>

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-12"><input id="attempt" class="form-control input-lg" placeholder="Attempt"/></div>
                </div>

                <div id="console2" style="margin-top:20px;"></div>

            </div>

            <div id="form3">

                <div class="row" style="margin:10px 0px;">
                    <div class="col-xs-6"><h1 onclick="service.list()">Tarifa 2014 WM Heat 1</h1></div>
                    <div class="col-xs-3"><input onclick="view(2)" type="button" class="btn btn-default btn-lg btn-block" value="Previous"/></div>
                    <div class="col-xs-3"><input onclick="view(2)" type="button" class="btn btn-default btn-lg btn-block" value="Next"/></div>
                </div>

                <div id="console3"></div>

            </div>

            <div id="form4" style="display:none;">

                <div class="row">
                    <div class="col-xs-8 col-md-10" style="margin-top:10px;"><h1 id="list4" style="margin:5px 0px 0px;">Feed</h1></div>
                    <div class="col-xs-4 col-md-2" style="margin-top:10px;"><input id="publishButton" type="button" class="btn btn-default btn-lg btn-block" value="Publish"/></div>
                </div>

                <div class="row">
                    <div class="col-xs-12" style="margin-top:10px;"><input id="feed" class="form-control input-lg" placeholder="Feed" value="gcl11/feed"/></div>
                </div>

                <div class="row">
                    <div class="col-xs-12" style="margin-top:10px;"><textarea id="message" class="form-control" rows="10"></textarea></div>
                </div>

            </div>

            <div id="form5" style="display:none;">

                <div class="row">
                    <div class="col-xs-8 col-md-10" style="margin-top:10px;"><h1 id="list5" style="margin:5px 0px 0px;">Gcl-11</h1></div>
                    <div class="col-xs-4 col-md-2" style="margin-top:10px;"><input id="removeButton" type="button" class="btn btn-default btn-lg btn-block" value="Remove" /></div>
                </div>

            </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="./js/token.js"></script>
        <script type="text/javascript" src="./js/service.js"></script>
        <script type="text/javascript" src="./js/facebook.js"></script>

    </body>
</html>

<!--
https://www.facebook.com/dialog/pagetab?app_id=249348058430770&redirect_uri=http://gcl-11.appspot.com

          <ul id="console" style="padding-top:10px;">
              <li><a href="_ah/api/explorer">Web Interface</a></li>
              <li><a href="https://play.google.com/store/apps/details?id=my.endpoints">Android Client</a></li>
              <li><a href="https://play.google.com/apps/testing/com.appspot">Android release apk</a></li> style="width: 90px; display: inline-block;"
              <li><a href="https://lb1.pcs.ovh.net/v1/AUTH_a4c2ef109c996858a5c3f8e411de8538/gcl-13/TrivialDrive.apk">Android debug apk</a></li>
              <li><a href="https://github.com/gertcuykens/gcl-11">Source Code</a></li>
          </ul>

          $('#logindropdown').on('hidden.bs.dropdown', function () {border()})
          $('#logindropdown').on('shown.bs.dropdown', function () {border()})
          border = function(){
              var b=document.getElementById('login')
              //if (document.getElementById('login-menu').classList.contains('open')){b.style.borderBottom='1px solid transparent'; return}
              if (Google.access_token) {b.style.borderBottom='1px solid #dd4b39'; return}
              if (Facebook.access_token) {b.style.borderBottom='1px solid #5f78ab'; return}
              b.style.borderBottom='1px solid transparent'
          }

function signout() {
    var http=new XMLHttpRequest();
    http.open('GET','https://accounts.google.com/o/oauth2/revoke?token='+gapi.auth.getToken().access_token,true)
    http.send();
    http.onreadystatechange=function(){ if (http.readyState!=4 && http.status!=200) return false
                                        var b=document.getElementById('signinButton')
                                        b.removeEventListener('click', signout);
                                        b.addEventListener('click',signin)
                                        document.getElementsByClassName("buttonText")[0].innerHTML="Log In"}
}

FB.init({appId:'...', status:true, cookie:true, xfbml:true});
var c=b.cloneNode(true);
var p=b.parentNode
p.replaceChild(c,b);

//Server=new Token()
//Server.type_token="server"

function testAPI3() {
console.log('Server, Register Facebook user... ');
gapi.client.rest.register(Facebook).execute(function(response){console.log('Server, '+JSON.stringify(response.result));Server=response.result})

console.log('Server, Register Google user... ');
gapi.client.rest.register(Google).execute(function(response){console.log('Server, '+JSON.stringify(response.result));Server=response.result})
}

function testAPI4() {
console.log('Server, CheckSum Facebook token... ');
gapi.client.rest.checksum(Server).execute(function(response){console.log('Server, '+JSON.stringify(response.result));Server=response.result})
}

<li class="login">
    <fb:login-button autologoutlink="true" size="large" show-faces="false" max-rows="1"></fb:login-button>
</li>

<li class="login">
    <div  id="fSignInWrapper">
        <span class="label"></span>
        <div id="fsigninButton" >
            <span class="ficon"></span>
            <span class="buttonText">Log In</span>
        </div>
    </div>
</li>

<li class="login">
    <div id="gSignInWrapper">
        <span class="label"></span>
        <div id="gsigninButton" >
            <span class="gicon"></span>
            <span class="buttonText">Log In</span>
        </div>
    </div>
</li>

-->

<!--nav class="navbar navbar-default" role="navigation" style="margin:10px 0px;">

<div class="navbar-header">
   <a id="list" class="navbar-brand" href="#">Gcl-11</a>
   <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1">
       <span class="sr-only">Toggle navigation</span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
   </button>
</div>

<div class="collapse navbar-collapse" id="bs-navbar-collapse-1">
   <ul class="nav navbar-nav navbar-right">
       <li id="login"><a id="fsigninButton" href="#">Facebook</a></li>
       <li class="dropdown" id="login-menu">
           <a href="" class="dropdown-toggle" data-toggle="dropdown" id="login">Sign in <b class="caret"></b></a>
           <ul class="dropdown-menu" role="menu" aria-labelledby="login" style="padding:10px;">
               <li id="fsigninButton">Facebook</li>
               <li id="gsigninButton" style="margin-top:5px;">Google</li>
           </ul>
       </li>
   </ul>
</div>

</nav-->

<!--div class="row">
<div class="col-md-12" style="margin-top:10px;"><input id="message" class="form-control input-lg" placeholder="Your text message"/></div>
</div>

<div class="row">
<div class="col-md-8" style="margin-top:10px;"></div>
<div class="col-md-2" style="margin-top:10px;"><input id="submit" type="button" class="btn btn-default btn-lg btn-block" value="Submit"/></div>
<div class="col-md-2" style="margin-top:10px;"><input id="publish" type="button" class="btn btn-default btn-lg btn-block" value="Publish"/></div>
</div-->
